---
workflows:
  basic:
    name: chat_basic
    nodes:
      - module: generation.Simple
        operator: generate

      - module: system.Logger
        operator: acc_stream

  index_local_files:
    name: index_local
    collection: awe_new
    nodes:
      - module: system.Reader
        args:
          path: ./files

      - module: indexing.Simple

  naive_rag:
    name: naive_rag
    collection: awe_index
    nodes:
      - module: retrieval.Semantic
      - module: generation.Augmented
      - module: system.Logger

  rag_rr:
    name: rag_rr
    collection: awe_new
    nodes:
      - module: pre.QueryTransform

      - module: retrieval.Semantic

      - module: post.Rerank
        args:
          top_n: 10

      - module: generation.Augmented

      - module: system.Logger

---
workflows:
  basic:
    name: chat_basic
    nodes:
      - module: generation.Simple
        operator: chat

      - module: system.Logger
        operator: acc_stream

  index_local_files:
    name: index_local
    collection: awe_new
    nodes:
      - module: system.Reader
        args:
          path: ./files

      - module: indexing.Simple

  naive_rag:
    name: naive_rag
    collection: hotpot
    nodes:
      - module: retrieval.Semantic
        args:
          top_n: 10

      - module: generation.Augmented
      - module: system.Logger

  rag_rr:
    name: rag_rr
    collection: hotpot
    nodes:
      #- module: pre.QueryTransform

      - module: retrieval.Semantic
        args:
          top_n: 15

      - module: post.Rerank
        args:
          top_n: 10

      - module: generation.Augmented

      - module: system.Logger

  rag_ws:
    name: rag_ws
    collection: hotpot
    nodes:
      - module: pre.QueryTransform
      - module: retrieval.Web
        operator: search
        args:
          top_n: 10
      - module: post.Rerank
        args:
          top_n: 5
      - module: generation.Augmented
      - module: system.Logger
